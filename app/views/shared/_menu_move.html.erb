<button data-action="click->menu#toggle" onblur="hide(this);" data-menu-target="button" class="inline-flex items-center p-2 text-sm font-medium text-center text-gray-500rounded-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-50" type="button"> 
  <svg class="w-4 h-4" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"></path></svg>
</button>

<!-- Dropdown menu -->
<div data-menu-target="menu" class="drawer rounded-e-3xl fixed top-0 left-0 z-40 h-screen overflow-y-auto transition-transform -translate-x-full bg-amber-300 w-80 dark:bg-gray-800">
  <div class="text-center text-white bg-amber-400 font-bold tracking-widest border-b-1 border-amber-400 p-4">Переместить</div>
  <ul class="pb-2 text-sm text-stone-800">
    

    <% @partners.each do |storehouse| %>
      <li>
        <%= button_to move_to_storehouse_product_url(product, new_storehouse_id: storehouse.id), method: :post, class: "block text-start px-4 py-2 w-full hover:bg-amber-200" do %>
          ➡️ <%= storehouse.title %>
        <% end %>
        <%#= link_to "Редактировать", send("edit_#{model.class.name.downcase}_path", model), data: { turbo_frame: 'modal' }, class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white transition" %>
      </li>
    <% end %>
  </ul>
</div>

<script>
  function hide(el) {
    setTimeout(() => { 
      el.nextElementSibling.classList.remove("-translate-x-0")
      el.nextElementSibling.classList.add("-translate-x-full")
     }, 250);
  }
</script>